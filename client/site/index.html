<html>
  <head>
    <script type="text/javascript" src="lib/ByteBufferAB.min.js"></script>
    <script type="text/javascript" src="lib/ProtoBuf.min.js"></script>
    <script type="text/javascript" src="js/celestia.js"></script>
  </head>
  <body></body>
  <script>

    var chat = new WebSocket("ws://" + location.host + "/action");    
    chat.onopen = function(e) { 

      var celestia = Elm.fullscreen(Elm.Demo);
      celestia.ports.controls.subscribe(function(e) {
        console.log("Sending buffer with",e.byteLength,"bytes");
        chat.send(e);
      });

      chat.onmessage = function(event) {
        console.log(event)
      }

    }

  </script>
</html>
